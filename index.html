<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <title>Mass Effect 3: Datapad</title>
  <style>
    
    @font-face {
    	font-family: 'Mass Effect';
    	src: url('me123.ttf') format('opentype');
    	font-weight: normal;
    	font-style: normal;
	}
    
    body {
    	background-color: #071e2d;
        color: #8ef0fb;
        text-align: center;
        font-family: arial;
    }
    
    h1, .name, .date {
		font-family: 'Mass Effect';
        font-weight: normal;
	}
    
    button {
    	color: #8ef0fb;
        width: 130px;
        text-align: left;
        padding: 2px;
        cursor: pointer;
    }
    
    #name {
    	background: rgb(26,139,174);
		background: linear-gradient(174deg, rgba(26,139,174,1) 0%, rgba(6,85,114,1) 42%, rgba(7,47,71,1) 71%);
        border-color: #1a8bae;

    }
    
    #date {
    	background: black;
    }
    
    .name, .date {
    	font-weight: normal;
    }
	
    .name {
    	float: left;
        font-size: 14px;
    }
    
    .date {
    	float: right;
    }
    
    tr, .messagebox {
    	width: 100%;
        border: 1px #8ef0fb;
        border-style: solid none none;
        padding-top: 5px;
        padding-bottom: 10px;
        text-align: right;

    }
    
    p {
    	display: inline-block;
        margin-bottom: 0px;
        margin-top: 10px;
    }
    
    img {
    	width:50px;
        height:50px;
        float: left;
        padding-right: 10px;
    }
    
    table {
    	width: 100%;
    }
	</style>
</head>
<body>
<h1>Messages</h1>
<button id="name">Name</button>
<button id="date">Date</button>
<br><br>

<table id="mytable">
    <tbody id="myactualtable"></tbody>
</table>
<script>
    $.getJSON("https://skookuri.github.io/masseffectdatapadmessages/inboxlist.json", function(data) {
    var arr = data.DATAPAD.INBOX;
    arr.forEach(function(list) {
        var newrow = $("<tr>");
        var messageBox = $("<div>").addClass("messagebox");
        var img = $("<img>").attr("src", list.IMAGE).attr("alt", "profile pic");
        var name = $("<span>").addClass("name").text(list.NAME);
        var message = $("<p>").text(list.MESSAGE);
        
        var d = new Date();
        var month = d.getMonth()+1;
        var day = d.getDate();
        var output = d.getFullYear() + '/' + (month<10 ? '0' : '') + month + '/' + (day<10 ? '0' : '') + day;
        var date = $("<span>").addClass("date").text(output);
        
        
        messageBox.append(img);
        messageBox.append(name);
        messageBox.append(date);
        messageBox.append("<br>");
        messageBox.append($("<div>").css("text-align", "left").append(message));
        
        newrow.append($("<td>").append(messageBox));
        
        $("#myactualtable").append(newrow);
    });
      
      
      /*$(document).ready(function(){ 
        $("button").click(function(){
        	//$("#mytable td").hide();
            
            $("#myactualtable tr").filter(function() {
                var value = $("select option:selected").text();
                
                if (value != "--SELECT GENRE--") {
                	$(this).toggle($(this).text().indexOf(value) > -1);
                } else {
                	$(this).show();
                }
    		}); //toggle
        }); //button
      });*/ //document ready, commenting out for now
    }); //json
</script> 
</body>
</html>
